<!DOCTYPE html>
<html>
    <head>
        <style>
            body{
                margin:auto;
            }
        </style>
    </head>
    <body>
        <button id="reset" >Change Grid Size</button>
    </body>
    <script>
        function turnBlue(event){
            event.currentTarget.style.backgroundColor="blue"
        }
        function turnWhite(event){
            event.currentTarget.style.backgroundColor="white"
        }
        function createGrid(i, j){
            const body = document.querySelector('body');
            container.style.gridTemplateColumns = `repeat(${i}, ${640/i}px)`;
            container.style.gridTemplateRows = `repeat(${j}, ${640/j}px)`;
            console.log(container.style.gridTemplateColumns);
            console.log(i)
            console.log(j)
            for(let counti = 1;counti<i+1;counti++){
                for(let countj = 1;countj<j+1;countj++){
                    console.log("why")
                    const div = document.createElement('div');
                    div.addEventListener('mouseover', turnBlue);
                    /*div.addEventListener('mouseout', turnWhite);*/
                    div.style.gridArea=`${counti}/${countj}/${counti+1}/${countj+1}`;
                    div.textContent='o'
                    container.appendChild(div);
            }
        }
        /*Ghost grid??? though the loop only happens one time and they're not nodes from the last grid since the last grid only had 4!*/
            body.appendChild(container)

        }
        function reset(){
            let i = prompt("How many rows?");
            let j = prompt("How many columns?");
            const body = document.querySelector('body');
            const container = document.querySelector('#container');
            container.querySelectorAll('div').forEach(n=>n.remove()); /*Is this the right thing to do? Need to delete or maybe resize the grid before making the new one.*/
            createGrid(i,j);
        }
        const container = document.createElement('div');
        container.id="container"
        container.style.display='grid';
        createGrid(2,2);

        const button = document.querySelector('button');
        button.onclick=function(){reset()};
    </script>
</html>